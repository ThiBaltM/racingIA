import pygame as py
from math import sqrt, inf

class Road:
    def __init__(self, game):
        self.game = game;
        self.screen = game.screen;
        self.listPts = [(229, 619), (243, 612), (260, 607), (287, 599), (311, 589), (338, 582), (365, 577), (394, 577), (423, 571), (451, 570), (481, 571), (505, 572), (541, 577), (571, 580), (599, 595), (624, 603), (656, 611), (681, 618), (708, 618), (738, 611), (764, 602), (795, 593), (823, 579), (856, 559), (883, 540), (905, 533), (930, 513), (957, 494), (977, 471), (999, 445), (1015, 422), (1029, 394), (1040, 370), (1046, 342), (1055, 315), (1062, 287), (1078, 266), (1092, 247), (1107, 226), (1127, 222), (1146, 212), (1146, 212), (1154, 192), (1152, 174), (1142, 162), (1128, 157), (1109, 158), (1089, 161), (1066, 168), (1040, 176), (1018, 181), (1000, 190), (976, 199), (952, 212), (930, 225), (896, 241), (876, 241), (857, 244), (837, 251), (816, 254), (796, 259), (775, 265), (756, 273), (737, 276), (716, 276), (697, 273), (678, 271), (661, 265), (646, 253), (623, 241), (602, 230), (578, 212), (560, 196), (545, 173), (535, 153), (519, 127), (497, 105), (468, 98), (437, 91), (410, 87), (382, 88), (348, 85), (311, 89), (287, 93), (259, 103), (241, 117), (221, 126), (204, 144), (186, 155), (164, 177), (147, 200), (134, 224), (122, 251), (107, 285), (105, 300), (109, 322), (105, 357), (111, 388), (111, 409), (121, 438), (131, 473), (137, 490), (144, 515), (156, 538), (167, 558), (180, 582), (191, 598), (218, 610)]
        self.list = [];
    
    def draw(self):
        self.list.append(py.mouse.get_pos())  

    def advance(self, car, time, current):
        x, y = (int(car.x), int(car.y));
        c = 0;
        listeDistance = [];
        dictDistance = {};
        for coords in self.listPts[current:current+5]:
            l = sqrt((x-coords[0])**2+(y-coords[1])**2);
            listeDistance.append(l)
            dictDistance[l] = c;
            #py.draw.circle(self.screen,'red',coords,5,5);

            c+=1;
        if(listeDistance != []):
            r = dictDistance[min(listeDistance)]+current;
            #py.draw.circle(self.screen,'green',self.listPts[r],10,10);
            return r;
        return 0;


