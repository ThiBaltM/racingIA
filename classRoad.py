import pygame as py
from math import sqrt, inf

class Road:
    def __init__(self, game):
        self.game = game;
        self.screen = game.screen;
        self.listPts = [(249, 613), (269, 606), (289, 601), (306, 594), (327, 584), (347, 580), (364, 575), (387, 571), (408, 566), (433, 564), (456, 559), (482, 560), (500, 559), (522, 563), (546, 565), (567, 572), (588, 579), (612, 587), (633, 594), (650, 602), (671, 610), (689, 615), (712, 618), (728, 619), (748, 619), (765, 619), (789, 612), (807, 602), (827, 595), (845, 584), (866, 571), (885, 561), (901, 548), (919, 532), (937, 513), (950, 492), (960, 473), (973, 454), (988, 430), (1007, 406), (1025, 386), (1044, 368), (1064, 354), (1081, 341), (1100, 323), (1119, 309), (1129, 290), (1138, 269), (1140, 247), (1134, 228), (1123, 205), (1103, 185), (1082, 177), (1055, 177), (1033, 181), (1003, 189), (980, 201), (955, 209), (929, 216), (900, 225), (877, 233), (863, 237), (849, 245), (835, 250), (819, 255), (804, 258), (791, 263), (772, 268), (746, 276), (710, 283), (689, 286), (670, 280), (648, 274), (622, 261), (607, 244), (585, 223), (569, 201), (550, 176), (537, 155), (523, 132), (504, 107), (481, 97), (462, 88), (433, 83), (403, 80), (369, 82), (339, 87), (308, 91), (273, 98), (242, 108), (213, 122), (191, 138), (171, 157), (154, 170), (145, 193), (127, 224), (123, 247), (119, 272), (115, 300), (113, 324), (114, 350), (117, 374), (124, 403), (130, 433), (130, 461), (138, 482), (153, 505), (163, 530), (173, 546), (185, 568), (197, 588), (213, 604), (231, 612), (255, 612), (280, 607), (297, 608), (315, 604), (336, 599), (360, 592), (389, 588), (419, 585)]
        self.list = [];
    
    def draw(self):
        self.list.append(py.mouse.get_pos())  

    def advance(self, car, time, current):
        x, y = (int(car.x), int(car.y));
        c = 0;
        listeDistance = [];
        dictDistance = {};
        for coords in self.listPts[current:current+5]:
            l = sqrt((x-coords[0])**2+(y-coords[1])**2);
            listeDistance.append(l)
            dictDistance[l] = c;
            #py.draw.circle(self.screen,'red',coords,5,5);

            c+=1;
        if(listeDistance != []):
            r = dictDistance[min(listeDistance)]+current;
            #py.draw.circle(self.screen,'green',self.listPts[r],10,10);
            return r;
        return 0;


